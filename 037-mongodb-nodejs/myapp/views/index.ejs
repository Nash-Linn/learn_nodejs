<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
	  <h1>mongodb的增删改查的演示</h1>
    <div>
      <div>用户名：<input id="username" type="text"></div>
      <div>密码：<input id="password" type="password"></div>
      <div>年龄：<input id="age" type="number"></div>
      <div><button id="register">注册</button></div>
    </div>

    <script>
      let register = document.querySelector("#register")
      let username = document.querySelector("#username")
      let password = document.querySelector("#password")
      let age = document.querySelector("#age")

      register.onclick=()=>{
        console.log('username.value',username.value)
        console.log('password.value',password.value)
        console.log('age.value',age.value)

        fetch("/api/user/add",{
          method:"POST",
          body:JSON.stringify({
            username:username.value,
            password:password.value,
            age:age.value,
          }),
          headers:{
            "Content-Type":"application/json"
          }
        }).then(res=>res.json())
          .then(res=>{console.log(res)})

      }

    </script>
  </body>
</html>
